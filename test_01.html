<html>
<head>
    <TITLE>Chart.js</TITLE>
</head>
<body>
<button id="line">line</button>
<button id="bar">bar</button>
<button id="radar">radar</button>
<div style="width:900px;height: 400px ">
    <canvas id="myChart"></canvas>
</div>
<script src="F:\chartjs\node_modules\chart.js\dist\Chart.js"></script>
<script>
    window.onload = function () {
        console.log(window.location.search.substring(1));

//        var ctx = document.getElementById("myChart").getContext("2d");
//        var myChart;
        console.log(document.getElementById("myChart").getContext('2d'));
        Array.prototype.map.call(document.getElementsByTagName("button"), function (button) {
            button.onclick = function (e) {
                document.querySelector("div").removeChild(document.querySelector("canvas"));
                document.querySelector("div").appendChild(document.createElement("canvas"));
                document.querySelector("canvas").setAttribute("id","myChart");
                document.querySelector("canvas").setAttribute("width","900");
                document.querySelector("canvas").setAttribute("height","400");
                var ctx = document.getElementById("myChart").getContext("2d");
                var myChart = new Chart(ctx, {
                    type: button.innerHTML,
                    // The data for our dataset
                    data: {
                        labels: ["January", "February", "March", "April", "May", "June", "July"],
                        datasets: [{
                            label: "My First dataset ",
                            backgroundColor: 'rgba(255, 99, 132,0.5)',
                            borderColor: 'rgba(255, 99, 132,1.0)',
                            data: [16, -10, 6, 66, 20, 30, 45]
                        },
                            {
                                label: "My First dataset ",
                                backgroundColor: 'rgba(99, 255, 132,0.5)',
                                borderColor: 'rgba(99, 255, 132,1.0)',
                                data: [28,48,40,-19,96,27,100]
                            }]
                    },

                    // Configuration options go here
                    options: {
                        responsive: false,
                        animation: {
                            duration: 1000,
                            easing: 'easeOutQuad',
                            onProgress: function (animation) {
//                    animation.animationObject.currentStep / animation.animationObject.numSteps;
//                    console.log(animation);
                            }
                        },
                        layout: {
                            padding: {
                                left: 50,
                                right: 50,
                                top: 10,
                                bottom: 10
                            }
                        },
                        legend: {
                            display: true,
                            labels: {
                                fontColor: 'rgb(255, 99, 132)'
                            }
                        },
                        title: {
                            display: true,
                            text: 'Custom Chart Title'
                        }
//            tooltips: {
//                mode: 'x'
//            }
                    }
                });
                console.log(myChart.options);
            }
        });
    }
</script>
</body>
</html>
